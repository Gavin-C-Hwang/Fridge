<!DOCTYPE html>
<html>
<title>Food</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<style>
    body {
        font-family: "Times New Roman", Georgia, Serif;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        font-family: "Playfair Display";
        letter-spacing: 5px;
    }
</style>
<script>
    function add(){
        var tmp = document.querySelector("#tmpUpdate");
        tmp.content.querySelector('#ipTitle').value = "";
        tmp.content.querySelector('#ipGotDate').value = "";
        tmp.content.querySelector('#ipExpDate').value = "";
        tmp.content.querySelector('#ipDesc').value = "";
        var clone = document.importNode(tmp.content, true);
        document.body.insertBefore(clone,document.querySelector("#divTopArea").nextSibling);
    }
    function edit(obj){
        var divSelectForm = obj.parentNode.parentNode.parentNode;
        var title = divSelectForm.querySelector('#spanTitle');
        var gotDate = divSelectForm.querySelector('#spanGotDate');
        var expDate = divSelectForm.querySelector('#spanExpDate');
        var desc = divSelectForm.querySelector('#spanDesc');
        
        var tmp = document.querySelector("#tmpUpdate");
        tmp.content.querySelector('#ipTitle').value = title.textContent;
        tmp.content.querySelector('#ipGotDate').value = gotDate.textContent;
        tmp.content.querySelector('#ipExpDate').value = expDate.textContent;
        tmp.content.querySelector('#ipDesc').value = desc.textContent;
        
        var clone = document.importNode(tmp.content, true);
        divSelectForm.parentNode.insertBefore(clone,divSelectForm.nextSibling);
        remove(obj);
        //send to server the information
    }
    function remove(obj){
        document.body.removeChild(obj.parentNode.parentNode.parentNode);
        //send to server the information
    }
    function done(obj){
        var divInsertForm = obj.parentNode.parentNode.parentNode;
        var title = divInsertForm.querySelector('#ipTitle');
        var gotDate = divInsertForm.querySelector('#ipGotDate');
        var expDate = divInsertForm.querySelector('#ipExpDate');
        var desc = divInsertForm.querySelector('#ipDesc');
        
        var tmp = document.querySelector("#tmpSelect");
        tmp.content.querySelector('#spanTitle').textContent = title.value;
        tmp.content.querySelector('#spanGotDate').textContent = gotDate.value;
        tmp.content.querySelector('#spanExpDate').textContent = expDate.value;
        tmp.content.querySelector('#spanDesc').textContent = desc.value;
        
        var clone = document.importNode(tmp.content, true);
        divInsertForm.parentNode.insertBefore(clone,divInsertForm.nextSibling);
        
        title.value = "";
        gotDate.value = "";
        expDate.value = "";
        desc.value = "";
        document.body.removeChild(divInsertForm);
        //send to server the information
    }
</script>
<body>
    <div id="divTopArea" class="w3-white w3-margin">
        <input type="text"/>
        <button id="btnAdd" onclick="add()">Add</button>
        <button>Name</button>
        <button>Got Date</button>
        <button>Expired Date</button>
    </div>
    
    <template id="tmpSelect">
    <div class="w3-white w3-margin">
        <div class="w3-container w3-padding w3-black">
            <span id="spanTitle" class="w3-xlarge"></span>
            <span style="float: right; margin-left: 4px;"><button onclick="remove(this)">Remove</button></span>
            <span style="float: right;"><button onclick="edit(this)">Edit</button></span>
        </div>
        <div class="w3-container w3-xlarge w3-padding w3-grey">
            <span>Got Date</span> : <span id="spanGotDate"></span>
            <br>
            <span>Expired Date</span> : <span id="spanExpDate"></span>
            <br>
            <span>Description</span> : <span id="spanDesc"></span>
        </div>
    </div>
    </template>
    
    <template id="tmpUpdate">
    <div class="w3-white w3-margin">
        <div class="w3-container w3-padding w3-black">
            <input id="ipTitle" type="text" class="w3-container w3-black w3-xlarge" style="border: none; border-bottom: 1px solid white; outline: none;"  />
            <span style="float: right; margin-left: 4px;"><button onclick="done(this)">Done</button></span>
        </div>
        <div class="w3-container w3-xlarge w3-padding w3-grey">
            <span>Got Date</span> : <input id="ipGotDate" type="date" class="w3-gray" style="border: none; border-bottom: 1px solid black; outline: none;"/>
            <br>
            <span>Expired Date</span> : <input id="ipExpDate" type="date" class="w3-gray" style="border: none; border-bottom: 1px solid black; outline: none;"/>
            <br>
            <span>Description</span> : <input id="ipDesc"type="text" class="w3-gray" style="border: none; border-bottom: 1px solid black; outline: none;"/>
        </div>
    </div>
    </template>
    <!-- End page content -->

</body>
</html>
